<!DOCTYPE html>
<html lang="en">
<head>
    <title>WarsawJS #4</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=792, user-scalable=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">

    <link rel="stylesheet" href="cylon-js-presentation-pl/themes/warsawjs/styles/ribbon-theme.css">
    <link rel="stylesheet" href="cylon-js-presentation-pl/themes/warsawjs/styles/warsawjs-theme.css">
</head>
<body class="list">
<header class="caption">
    <h1>WarsawJS #4</h1>

    <p>We talk about JavaScript. Each month in Warsaw, Poland.</p>
</header>

<section class="slide front-page">
    <style>
        img.author {
            width:100px;
        }
    </style>
    <div>
        <div class="logo">
            <img src="cylon-js-presentation-pl/themes/warsawjs/pictures/logo.png"/>
        </div>
        <div class="content">
            <h2>Zastosowanie JavaScript w Robotyce</h2>

            <img src="cylon-js-presentation-pl/img/autor.png" class="author"/>
            <p>Marcin Borkowski | <a href="http://pl.linkedin.com/in/marcinborkowski/">LinkedIn</a>
        </div>
    </div>
</section>

<section class="slide shout">
    <style>
        p.smaller {
            font-size: 30%;
            margin: 0 50px;
        }
    </style>
    <div>
        <h2>
            <p><img src="cylon-js-presentation-pl/img/cylon_logo.png"/></p>

            <p class="smaller">Next generation robotics framework with support for <a
                    href="http://cylonjs.com/#platforms" target="_blank">33 different platforms</a></p>
        </h2>
    </div>
</section>

<section class="slide">
    <style>
        p.text-right {
            text-align: right;
        }
    </style>
    <div>
        <h2><img src="cylon-js-presentation-pl/img/mini_logo.png"/></h2>

        <p><strong>Cylon.js</strong> to obecnie najszybciej rozwijający się i najlepiej udokumentowany framework JavaScript do
            komunikacji z urządzeniami typu <strong>„Open Hardware“</strong>.</p>

        <p class="text-right">
            <img src="cylon-js-presentation-pl/img/open_hardware.png"/>
        </p>
    </div>
</section>

<section class="slide">
    <style>
        p.main {
            margin:0 0 20px 0;
            padding:0;
        }
        p.minis img {
            width: 50px;
            height: 50px;
            margin-bottom:5px;
        }
        p.minis {
            line-height: 100%;
            margin:0;
        }
    </style>
    <div>
        <h2><img src="cylon-js-presentation-pl/img/mini_logo.png"/></h2>

        <p class="main"><em>Tak jest!</em> <strong>Cylon.js</strong> to naprawdę najszybciej rozwijający się framework tego typu.
            Jeśli nie obsługuje jeszcze któregoś z popularnych urządzeń open-hardware, z całą pewnością za chwilę będzie.</p>

        <p class="minis">
            <img src="cylon-js-presentation-pl/img/ardrone.jpg" title="ARDrone"/>
            <img src="cylon-js-presentation-pl/img/arduino.jpg" title="Arduino"/>
            <img src="cylon-js-presentation-pl/img/yun.jpg" title="Arduino YUN"/>
            <img src="cylon-js-presentation-pl/img/audio.jpg" title="Audio"/>
            <img src="cylon-js-presentation-pl/img/beaglebone.jpg" title="Beaglebone Black"/>
            <img src="cylon-js-presentation-pl/img/ble.jpg" title="BLE"/>
            <img src="cylon-js-presentation-pl/img/crazyflie.jpg" title="Cracyflie"/>
            <img src="cylon-js-presentation-pl/img/digispark.jpg" title="Digispark"/>
            <img src="cylon-js-presentation-pl/img/edison.jpg" title="Intel Edison"/>
            <img src="cylon-js-presentation-pl/img/force.jpg" title="Salesforce"/>
            <img src="cylon-js-presentation-pl/img/galileo.jpg" title="Intel Galileo"/>
            <img src="cylon-js-presentation-pl/img/hue.jpg" title="Philips Hue"/>
            <img src="cylon-js-presentation-pl/img/joystick.jpg" title="Joystick"/>
            <img src="cylon-js-presentation-pl/img/keyboard.jpg" title="Keyboard"/>
            <img src="cylon-js-presentation-pl/img/leapmotion.jpg" title="Leap Motion"/>
            <img src="cylon-js-presentation-pl/img/m2x.jpg" title="M2X"/>
            <img src="cylon-js-presentation-pl/img/mqtt.jpg" title="MQTT"/>
            <img src="cylon-js-presentation-pl/img/nest.jpg" title="Nest"/>
            <img src="cylon-js-presentation-pl/img/neurosky.jpg" title="Neurosky"/>
            <img src="cylon-js-presentation-pl/img/ollie.jpg" title="Ollie"/>
            <img src="cylon-js-presentation-pl/img/opencv.jpg" title="OpenCV"/>
            <img src="cylon-js-presentation-pl/img/pebble.jpg" title="Pebble"/>
            <img src="cylon-js-presentation-pl/img/pinoccio.jpg" title="Pinoccio"/>
            <img src="cylon-js-presentation-pl/img/powerup.jpg" title="PowerUp"/>
            <img src="cylon-js-presentation-pl/img/rapiro.jpg" title="Rapiro"/>
            <img src="cylon-js-presentation-pl/img/raspberry-pi.jpg" title="Raspberry Pi"/>
            <img src="cylon-js-presentation-pl/img/skynet.jpg" title="Skynet"/>
            <img src="cylon-js-presentation-pl/img/spark.jpg" title="Spark"/>
            <img src="cylon-js-presentation-pl/img/speech.jpg" title="Speech"/>
            <img src="cylon-js-presentation-pl/img/sphero.jpg" title="Sphero"/>
            <img src="cylon-js-presentation-pl/img/tessel.jpg" title="Tessel"/>
            <img src="cylon-js-presentation-pl/img/wiced-sense.jpg" title="WICED Sense"/>
            <img src="cylon-js-presentation-pl/img/mip.jpg" title="MiP"/>
        </p>
    </div>
</section>

<section class="slide">
    <div>
        <h2><img src="cylon-js-presentation-pl/img/mini_logo.png"/> - tempo rozwoju</h2>

        <p>W Marcu 2014 <strong>Cylon.js</strong> obsługiwał <em>6 platform</em>.<br/> Niemal 10 m-cy później <strong>Cylon.js</strong> potrafi obsłużyć w sumie aż <em>33 platformy</em> (wzrost o 550%)!</p>

        <p>Niektóre z nich to: <a href="http://arduino.cc" target="_blank">Arduino</a>, <a href="http://ardrone2.parrot.com/" target="_blank">ARDrone</a>, <a href="https://www.leapmotion.com/" target="_blank">Leap Motion</a>, <a href="https://www.spark.io/" target="_blank">Spark</a>, <a href="http://www.gosphero.com/" target="_blank">Sphero</a>, <a href="http://neurosky.com/" target="_blank">Neurosky</a>, <a href="https://getpebble.com/" target="_blank">Pebble</a>, <a href="http://www.raspberrypi.org/" target="_blank">Raspberry Pi</a>, <a href="http://www2.meethue.com/en-xx/" target="_blank">Philips Hue</a>, <a href="http://www.bluetooth.com/Pages/Bluetooth-Smart.aspx" target="_blank">Bluetooth SMART</a></p>
    </div>
</section>

<section class="slide">
    <style>
        img.blocks {
            height:400px;
        }
    </style>
    <div>
        <h2><img src="cylon-js-presentation-pl/img/mini_logo.png"/> - Architektura</h2>

        <p>Zanim napiszemy pierwszy kod, kilka słów o <em>architekturze</em>. Pozwoli nam to lepiej zrozumieć, czym jest i jak działa <strong>Cylon.js</strong></p>
        <p class="text-right">
            <img src="cylon-js-presentation-pl/img/blocks.png" class="blocks"/>
        </p>
    </div>
</section>

<section class="slide">
    <div>
        <h2><img src="cylon-js-presentation-pl/img/mini_logo.png"/> - Architektura</h2>
        <p><strong>MCP (Master Control Program)</strong> - jest odpowiedzialny za zarządzanie cyklem życia programu, jak definiowanie „robotów“, zatrzymywanie/wznawianie ich pracy, obsługa API.</p>
    </div>
</section>

<section class="slide">
    <div>
        <h2><img src="cylon-js-presentation-pl/img/mini_logo.png"/> - Architektura</h2>
        <p><strong>REST API</strong> - Cylon.js oferuje wbudowany interfejs RESTful API, który możemy wykorzystać do obsługi wszelkich zdarzeń związanych zarówno z samym programem, jak i zdefiniowanymi robotami. Wywołania API kierowane są bezpośrednio do MCP.</p>
    </div>
</section>

<section class="slide">
    <div>
        <h2><img src="cylon-js-presentation-pl/img/mini_logo.png"/> - Architektura</h2>
        <p><strong>Robots</strong> - Robotami w ujęciu Cylon.js nazywamy zbiór (1 lub więcej) urządzeń (devices) oraz połączeń (connections), zdolnych do wzajemnej komunikacji. Definiowanie robotów odbywa się na poziomie MCP.</p>
    </div>
</section>

<section class="slide">
    <div>
        <h2><img src="cylon-js-presentation-pl/img/mini_logo.png"/> - Architektura</h2>
        <p><strong>Connections</strong> - definicja połączeń dla wykorzystywanych urządzeń, np. określenie portu USB, do którego podłączono dane urządzenie.</p>
        <p><strong>Devices</strong> - definicja urządzeń, nad którymi chcemy mieć kontrolę. W przypadku np. Arduino, urządzeniami będą wszystkie elementy zewnętrzne, które do niego podłączono, np. dioda led, czujnik temperatury, servo itp.</p>
    </div>
</section>

<section class="slide">
    <div>
        <h2><img src="cylon-js-presentation-pl/img/mini_logo.png"/> - Architektura</h2>
        <p><strong>Drivers, Adaptors</strong> - zapewniają komunikację z urządzeniami i poszczególnymi usługami. Adapterem jest np. <code>cylon-firmata</code>, który instalujemy jako submoduł do komunikacji z Arduino. Sterownikiem (driver) jest za to część programu służąca do obsługi komunikacji z danym urządzeniem (device).</p>
    </div>
</section>

<section class="slide">
    <style>
        img.diagram {
            width:70%;
        }
        p.text-center {
            text-align:center;
        }
    </style>
    <div>
        <h2><img src="cylon-js-presentation-pl/img/mini_logo.png"/> - Architektura</h2>
        <p class="text-center">
            <img src="cylon-js-presentation-pl/img/architecture-mcp.png" class="diagram"/>
        </p>
    </div>
</section>

<section class="slide">
    <style>
        pre.oneLine {
            border:1px solid #000;
        }
    </style>
    <div>
        <h2><img src="cylon-js-presentation-pl/img/mini_logo.png"/> - rozpoczynamy prace</h2>
        <strong>Cylon.js</strong> instalujemy jako moduł <em>Node.js</em>:
        <pre class="oneLine">
            <code><mark class="comment">$</mark> npm install <mark>cylon</mark></code>
        </pre>
        <p>Instalowany jest core frameworku wraz z pakietami cylon-gpio i cylon-i2c. Praca z poszczególnymi platformami wymaga doinstalowania właściwych dla tych platform pakietów, dostępnych w ramach frameworka.</p>
    </div>
</section>

<section class="slide">
    <style>
        pre.oneLine {
            border:1px solid #000;
        }
    </style>
    <div>
        <h2><img src="cylon-js-presentation-pl/img/mini_logo.png"/> - rozmówki z Arduino</h2>
        W naszych pierwszych przykładach będziemy wykorzystywać połączenie z <em>Arduino</em>. Komunikacje z nim zapewni nam pakiet <em>cylon-firmata</em>, którego instalacja jest równie szybka i bezbolesna:
        <pre class="oneLine">
            <code><mark class="comment">$</mark> npm install <mark>cylon-firmata</mark></code>
        </pre>
    </div>
</section>

<section class="slide">
    <style>
        pre.oneLine {
            border:1px solid #000;
        }
    </style>
    <div>
        <h2><img src="cylon-js-presentation-pl/img/mini_logo.png"/> - rozmówki z Arduino</h2>
        Aktualnie zainstalowane pakiety listujemy za pomocą komendy:
        <pre class="oneLine">
            <code><mark class="comment">$</mark> npm -ls --depth 0</code>
        </pre>
        co daje przykładowy wynik:
        <pre class="oneLine">
            <img src="cylon-js-presentation-pl/img/output.png"/>
        </pre>
    </div>
</section>

<section class="slide">
    <style>
        pre.oneLine {
            border:1px solid #000;
        }
        p.talk {
            font-size:95%;
        }
    </style>
    <div>
        <h2><img src="cylon-js-presentation-pl/img/mini_logo.png"/> - rozmówki z Arduino</h2>

        <p class="talk">Standardowo, aby Arduino mogło wykonywać dla nas określone czynności, niezbędne jest zuploadowanie do jego <em>niewielkiej pamięci</em> (wersja UNO mieści <mark>~32 kb</mark> kodu)  wcześniej przygotowanego kodu.</p>
        <p class="talk">Takie rozwiązanie, poza oczywistymi plusami (wszystko w jednym - brak konieczności podlączania dodatkowego komputera) posiada również pewne wady, mogące uprzykrzyć nasze pierwsze kroki z robotyką...</p>
    </div>
</section>

<section class="slide">
    <style>
        pre.oneLine {
            border:1px solid #000;
        }
    </style>
    <div>
        <h2><img src="cylon-js-presentation-pl/img/mini_logo.png"/> - rozmówki z Arduino</h2>
        Największe <em>problemy z Arduino</em> dla osób stawiających pierwsze kroki w robotyce:
        <ol>
            <li>Upload kodu trwa <mark>nieadekwatnie długo</mark>, przez co testowanie i zmiany w czasie mocno się rozwlekają.</li>
            <li>Natywny sposób programowania Arduino (oparty na środowisku Wiring i zasadniczo na języku ﻿C/C++) pozostawia wiele do życzenia (np. duże ryzyko "śmieciowego" kodu, słabe abstrakcje i nazewnictwo, zagmatwana obsługa przerwań).</li>
        </ol>
    </div>
</section>

<section class="slide">
    <style>
        pre.oneLine {
            border:1px solid #000;
        }
        ul.benefits {
            margin:0;
            padding:0;
            font-size:80%;
        }
        p.head {
            margin:0;
            padding:0;
        }

    </style>
    <div>
        <h2><img src="cylon-js-presentation-pl/img/mini_logo.png"/> - rozmówki z Arduino</h2>
        <p class="head">
            <strong>Cylon.js</strong> swoją komunikację z Arduino opiera na protokole <a href="http://firmata.org" target="_blank">Firmata</a>.
            Dzięki temu:
        </p>
        <ul class="benefits">
            <li>nasz kod może być zarówno pisany, jak i błyskawicznie uruchamiany na tym samym komputerze,</li>
            <li>mamy dostęp do bardzo dużej pamięci obliczeniowej a nasz kod może być dowolnie długi,</li>
            <li>programujemy w naszym ulubionym języku! (dostępne biblioteki do implementacji z <code>JavaScript</code> ;-), Processingiem, Pythonem, Perlem, Rubym, Clojure, Javą, .NET, Flashem / AS3, PHP, iOS)</li>
        </ul>
    </div>
</section>

<section class="slide">
    <div>
        <h2><img src="cylon-js-presentation-pl/img/mini_logo.png"/> - rozmówki z Arduino</h2>

        <p>Aby nasze programy napisane z użyciem <strong>Cylon.js</strong> były poprawnie interpretowane przez Arduino, niezbędne jest wgranie do jego pamięci sketcha protokołu Firmata <em>(jest to jednorazowa operacja wykonywana na danym urządzeniu)</em>.</p>
        <p>Szczegółowy opis jak tego dokonać znajduje się <a href="http://cylonjs.com/documentation/platforms/arduino/" target="_blank">tutaj</a> oraz (aktualizacja) <a href="http://gort.io/documentation/cli/arduino/" target="_blank">tutaj</a>.</p>
    </div>
</section>

<section class="slide">
    <style>
        ol.tasks {
            font-size:90%;
        }
    </style>
    <div>
        <h2><img src="cylon-js-presentation-pl/img/mini_logo.png"/> - sterowanie diodą LED</h2>
        W tym przykładzie:
        <ol class="tasks">
            <li>zaimportujemy bibliotekę <strong>Cylon.js</strong>,</li>
            <li>zdefiniujemy <em>robota</em>,</li>
            <li>zdefiniujemy <em>sposób połączenia</em> z Arduino,</li>
            <li>zdefiniujemy <em>diodę LED</em> jako "urządzenie" peryferyjne podłączone do Arduino,</li>
            <li>zaprogramujemy proste <em>zadanie</em>   do wykonania - zapalanie i gaszenie przez Arduino diody w 1-sekundowy interwale,</li>
            <li><em>uruchomimy</em> robota.</li>
        </ol>
    </div>
</section>

<section class="slide">
    <style>
        span.obj {
            color:green;
        }
    </style>
    <div>
        <h2><img src="cylon-js-presentation-pl/img/mini_logo.png"/> - sterowanie diodą LED</h2>
        Importujemy bibliotekę <strong>Cylon.js</strong> do zmiennej <code>Cylon</code>:
        <pre>
            <code>var <span class="obj">Cylon</span> = require('cylon');</code>
        </pre>
        Definiujemy robota:
        <pre>
            <code><span class="obj">Cylon</span>.robot({</code>
        </pre>
    </div>
</section>

<section class="slide">
    <style>
        span.obj {
            color:green;
        }
    </style>
    <div>
        <h2><img src="cylon-js-presentation-pl/img/mini_logo.png"/> - sterowanie diodą LED</h2>
        W "ciele" Robota definiujemy połączenie z Arduino wykorzystując zainstalowany wcześniej adapter <mark>cylon-firmata</mark>.
        <pre>
            <code>connections: {</code>
            <code>  arduino: { adaptor: 'firmata', port: '/dev/ttyACM0' }</code>
            <code>},</code>
        </pre>
    </div>
</section>

<section class="slide">
    <style>
        span.obj {
            color:green;
        }
    </style>
    <div>
        <h2><img src="cylon-js-presentation-pl/img/mini_logo.png"/> - sterowanie diodą LED</h2>
        Definiujemy <mark>urządzenie peryferyjne</mark> podłączone do Arduino.
        <br/>W naszym przykładzie będzie to dioda LED, którą podłączymy pod <mark>pin=13</mark> (pin cyfrowy).
        <pre>
            <code>devices: {</code>
            <code>  led: { driver: 'led', pin: 13 }</code>
            <code>},</code>
        </pre>
    </div>
</section>

<section class="slide">
    <style>
        span.obj {
            color:green;
        }
    </style>
    <div>
        <h2><img src="cylon-js-presentation-pl/img/mini_logo.png"/> - sterowanie diodą LED</h2>
        Definiujemy proste <mark>zadanie do wykonania</mark> przez Arduino - zapalanie i wygaszanie diody z 1-sekundowym interwałem.
        <pre style="margin-bottom:15px;">
            <code>work: function(my) {</code>
            <code>  every((1).second(), my.led.toggle);</code>
            <code>}</code>
        </pre>
        Uruchamiamy naszego robota:
        <pre>
            <code>}).start();</code>
        </pre>
    </div>
</section>

<section class="slide">
    <style>
        span.obj {
            color:green;
        }
        pre.smallCode {
            font-size:60%;
        }
    </style>
    <div>
        <h2><img src="cylon-js-presentation-pl/img/mini_logo.png"/> - sterowanie diodą LED</h2>
        Nasz program powinien wyglądać teraz tak:
        <pre class="smallCode">
            <code>var <span class="obj">Cylon</span> = require('cylon');</code>
            <code><span class="obj">Cylon</span>.robot({</code>
            <code>  connections: {</code>
            <code>      arduino: { adaptor: 'firmata', port: '/dev/ttyACM0' }</code>
            <code>  },</code>
            <code>  devices: {</code>
            <code>      led: { driver: 'led', pin: 13 }</code>
            <code>  },</code>
            <code>  work: function(my) {</code>
            <code>      every((1).second(), my.led.toggle);</code>
            <code>  }</code>
            <code>}).start();</code>
        </pre>
    </div>
</section>

<section class="slide">
    <style>
        span.obj {
            color:green;
        }
        pre.oneLine {
            border:1px solid #000;
        }
        p.alert {
            font-size:80%;
            margin-top:25px;
            color:grey;
        }
    </style>
    <div>
        <h2><img src="cylon-js-presentation-pl/img/mini_logo.png"/> - sterowanie diodą LED</h2>
        Uruchomienie programu w terminalu:
        <pre class="oneLine">
            <code><mark class="comment">$</mark> node led_blink.js</code>
        </pre>

        gdzie <em>led_blink.js</em> to nazwa pliku, w której zapisaliśmy nasz program.
        <p class="alert">UWAGA: Wyłączając powyższy program, automatycznie zatrzymujemy wszelkie dotychczas wykonywane przez Arduino zaprogramowane czynności.</p>
    </div>
</section>

<section class="slide">
    <style>
        h2.smaller {
            font-size:150%;
        }
    </style>
    <div>
        <h2 class="smaller"><img src="cylon-js-presentation-pl/img/mini_logo.png"/> - Udostępniamy proste API</h2>

        <p>Z wcześniejszych slajdów dowiedziałeś się, że <strong>Cylon.js</strong> udostępnia możliwość definiowania własnych <mark>metod API</mark>.</p>
        <p>W kolejnym przykładzie zróbmy to samo, jednak z tą różnicą, że dioda LED nie będzie zapalana w interwale a poprzez <em>wywołanie odpowiedniej metody z API</em>.</p>
    </div>
</section>

<section class="slide">
    <style>
        h2.smaller {
            font-size:150%;
        }
        span.obj {
            color:green;
        }
    </style>
    <div>
        <h2 class="smaller"><img src="cylon-js-presentation-pl/img/mini_logo.png"/> - Udostępniamy proste API</h2>

        Importujemy bibliotekę <strong>Cylon.js</strong> do zmiennej <code>Cylon</code>:
        <pre>
            <code>var <span class="obj">Cylon</span> = require('cylon');</code>
        </pre>
    </div>
</section>

<section class="slide">
    <style>
        h2.smaller {
            font-size:150%;
        }
        span.obj {
            color:green;
        }
    </style>
    <div>
        <h2 class="smaller"><img src="cylon-js-presentation-pl/img/mini_logo.png"/> - Udostępniamy proste API</h2>
        Definiujemy interfejs API uruchamiany na lokalnym hoście, na porcie 8080, z pominięciem SSL:
        <pre>
            <code><span class="obj">Cylon</span>.api({</code>
            <code>  host: '0.0.0.0',</code>
            <code>  port: 8080,</code>
            <code>  ssl: false</code>
            <code>});</code>
        </pre>
    </div>
</section>

<section class="slide">
    <style>
        h2.smaller {
            font-size:150%;
        }
        span.obj {
            color:green;
        }
        pre.bottomMarg {
            margin-bottom:10px;
            font-size:85%;
        }
    </style>
    <div>
        <h2 class="smaller"><img src="cylon-js-presentation-pl/img/mini_logo.png"/> - Udostępniamy proste API</h2>
        Definiujemy robota:
        <pre class="bottomMarg">
            <code><span class="obj">Cylon</span>.robot({</code>
            <code>  <mark class="comment">/* Tym razem dla porządku nadamy mu imię */</mark></code>
            <code>  name: 'ledMonster',</code>
            <code>  connections: {</code>
            <code>      arduino: { adaptor: 'firmata', port: '/dev/ttyACM0' }</code>
            <code>  },</code>
            <code>  devices: {</code>
            <code>      led: { driver: 'led', pin: 13 }</code>
            <code>  },</code>
        </pre>

    </div>
</section>

<section class="slide">
    <style>
        h2.smaller {
            font-size:150%;
        }
        span.obj {
            color:green;
        }
        pre.bottomMarg {
            margin-bottom:10px;
        }
    </style>
    <div>
        <h2 class="smaller"><img src="cylon-js-presentation-pl/img/mini_logo.png"/> - Udostępniamy proste API</h2>
        <pre class="bottomMarg">
            <code>  <mark class="comment">/* Definiujemy tym razem puste zadanie */</mark></code>
            <code>  work: function() {},</code>
            <code>  <mark class="comment">/* Tworzymy własną funkcję, której każde wywołanie</mark></code>
            <code>  <mark class="comment">   będzie przełączać aktualny stan diody LED (on/off) */</mark></code>
            <code>  <mark>ledToggle</mark>: function() {</code>
            <code>      console.log('Led Toggle');</code>
            <code>      this.led.toggle();</code>
            <code>  }}).start();</code>
        </pre>

    </div>
</section>

<section class="slide">
    <div>
        <h2 class="smaller"><img src="cylon-js-presentation-pl/img/mini_logo.png"/> - Udostępniamy proste API</h2>
        <p>Po uruchomieniu programu diody LED, które w poprzednim przykładzie zapalały się i gasiły w interwale, teraz pozostają wygaszone.</p>
        <p><mark>Jednak</mark> w tym przykładzie zdefiniowaliśmy <mark>interfejs API</mark>, dostępny z lokalnej przeglądarki pod adresem <a href="http://localhost:8080/" target="_blank">http://localhost:8080/</a>.</p>
    </div>
</section>

<section class="slide">
    <div>
        <h2 class="smaller"><img src="cylon-js-presentation-pl/img/mini_logo.png"/> - Udostępniamy proste API</h2>
        <p style="margin-bottom:10px">Wejście do API nie wymaga żadnego logowania, choć <strong>Cylon.js</strong> umożliwia zaimplementowanie prostego mechanizmu autoryzacji.</p>
        <p style="margin:0 0 15px 0">W <mark>dashboardzie</mark> znajdziemy listę zdefiniowanych przez nas robotów:</p>
        <img src="cylon-js-presentation-pl/img/dashboard_robots.png" style="height:155px"/>
    </div>
</section>

<section class="slide">
    <div>
        <h2 class="smaller"><img src="cylon-js-presentation-pl/img/mini_logo.png"/> - Udostępniamy proste API</h2>
        <p style="margin-bottom:20px;font-size:80%">Po wybraniu naszego robota (<mark>LEDMonster</mark>) otrzymujemy dostęp do listy poleceń, które za pomocą API możemy wykonać. Znajdują się tu wszystkie funkcje umieszczone w Robocie jako niestandardowe (czyli np. nasz ledToggle).</p>
        <img src="cylon-js-presentation-pl/img/api_commands.png" style="height:220px"/>
        <p style="font-size:80%">Kliknięcie przycisku [RUN] spowoduje natychmiastowe wywołanie zdefiniowanej przez nas funkcji, czego rezultatem będzie zmiana aktualnego stanu diody LED (on/off).</p>
    </div>
</section>

<section class="slide">
    <div>
        <h2 class="smaller"><img src="cylon-js-presentation-pl/img/mini_logo.png"/> - Podłączamy Leap Motion</h2>
        <p>We wcześniejszych przykładach wykorzystywaliśmy Arduino z wpiętym do niego urządzeniem peryferyjnym - diodą LED.</p>
        <p>W tym przykładzie będziemy zapalać i gasić ją za pomocą prostych gestów. Aby było to możliwe, wykorzystamy <mark>Leap Motion</mark> - kontroler ruchu znajdujący się na liście obsługiwanych przez <strong>Cylon.js</strong> urządzeń.</p>
    </div>
</section>

<section class="slide">
    <style>
        span.obj {
            color:green;
        }
    </style>
    <div>
        <h2 class="smaller"><img src="cylon-js-presentation-pl/img/mini_logo.png"/> - Podłączamy Leap Motion</h2>
        <pre style="font-size:60%">
            <code>var <span class="obj">Cylon</span> = require('cylon');</code>
            <code>var state = {</code>
            <code>  lightOn: false</code>
            <code>};</code>
            <code><span class="obj">Cylon</span>.robot({</code>
            <code>  name: 'LEDMonster',</code>
            <code>  connections: {</code>
            <code>      arduino: { adaptor: 'firmata', port: '/dev/ttyACM0' },</code>
            <code>      leapmotion: { adaptor: 'leapmotion' }</code>
            <code>  },</code>
            <code>  devices: {</code>
            <code>      led: { driver: 'led', pin: 11, connection: 'arduino' },</code>
            <code>      leapmotion: { driver: 'leapmotion', connection: 'leapmotion' }</code>
            <code>  },</code>
        </pre>
    </div>
</section>

<section class="slide">
    <style>
        span.obj {
            color:green;
        }
    </style>
    <div>
        <h2 class="smaller"><img src="cylon-js-presentation-pl/img/mini_logo.png"/> - Podłączamy Leap Motion</h2>
        <pre style="font-size:60%">
            <code>  work: function(my) {</code>
            <code>      this.leapmotion.on('<mark class="important">hand</mark>', function(<mark>hand</mark>) {</code>
            <code>          if(hand.type === '<mark>left</mark>' && state.lightOn) {</code>
            <code>              console.log('Light OFF');</code>
            <code>              my.led.<mark class="important">turnOff()</mark>;</code>
            <code>              state.lightOn = false;</code>
            <code>          } else if(hand.type === '<mark>right</mark>' && !state.lightOn) {</code>
            <code>              console.log('Light ON');</code>
            <code>              my.led.<mark class="important">turnOn()</mark>;</code>
            <code>              state.lightOn = true;</code>
            <code>          } else {}</code>
            <code>       });</code>
            <code>       <mark class="comment">...</mark></code>
        </pre>
    </div>
</section>

<section class="slide">
    <style>
        span.obj {
            color:green;
        }
    </style>
    <div>
        <h2 class="smaller"><img src="cylon-js-presentation-pl/img/mini_logo.png"/> - Podłączamy Leap Motion</h2>
        <pre style="font-size:60%">
            <code>       <mark class="comment">...</mark></code>
            <code>       <mark class="comment">/* Zapalaj/Wygaszaj diodę w interwale = 250ms JEŚLI state.lightOn */</mark></code>
            <code>       every(250, function() {</code>
            <code>          if(state.lightOn) {</code>
            <code>              my.led.<mark>toggle()</mark>;</code>
            <code>          } else {</code>
            <code>              my.led.<mark>turnOff()</mark>;</code>
            <code>          }</code>
            <code>       });</code>
            <code>  }</code>
            <code>}).start();</code>
        </pre>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Co dalej? Spróbuj sam(a)!</h2>

        <ul>
            <li><a href="http://cylonjs.com/documentation/" target="_blank">Pełna dokumentacja Cylon.js wraz z przykładami</a></li>
            <li>Omówione przykłady możesz <a href="https://github.com/marborkowski/cylon-js-examples" target="_blank">pobrać z GITa</a></li>
            <li>Jeśli interesuje Cię jedynie Arduino, istnieje framework JavaScript jemu dedykowany: <a href="https://github.com/rwaldron/johnny-five" target="_blank">https://github.com/rwaldron/johnny-five</a></li>
        </ul>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Pytania?</h2>

        <p>Chętnie na nie teraz odpowiem :)<br/>Możesz zadać je również po tej prezentacji (zapraszam w kuluary).</p>
        <p>
            Pozostałe formy kontaktu:<br/>
            <a href="mailto:marcin@makerlab.pl">marcin@makerlab.pl</a> | <a href="http://pl.linkedin.com/in/marcinborkowski/" target="_blank">LinkedIn</a> | <a href="http://www.goldenline.pl/marcin-borkowski27/" target="_blank">GoldenLine</a>
        </p>
    </div>
</section>

<section class="slide shout">
    <div>
        <h2>Dzięki!</h2>
    </div>
</section>

<section class="slide shout">
    <div>
        <h2>See you next month at WarsawJS</h2>
    </div>
</section>

<p class="badge"><a href="https://github.com/warsawjs/presentation-template">Fork me on Github</a></p>

<div class="progress">
    <div></div>
</div>

<script src="cylon-js-presentation-pl/vendor/gamepad/gamepad.js"></script>
<script src="cylon-js-presentation-pl/vendor/shower/shower.js"></script>
<script src="cylon-js-presentation-pl/vendor/shower/shower.gamepad.js"></script>
</body>
</html>
